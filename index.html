<html>
<head>
<title>My Workload Optimator</title>
<script src="knapsack.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="tiedot.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="tyylit.css">
</head>
<body>
<h1>My Workload Optimator</h1>
<p>Silja Karesto & Mia Leskinen</p>

<!--button class="show-content">Lisää kurssi</button-->

<div class="hidden-content">
	<form id="lisaaKurssiForm">
		<h3>Lisää kurssi</h3>
		<p>Kurssin nimi: <input id="lisaakurssi" type="text" placeholder="Kurssin nimi"></input>
		Opintopisteet: <input id="lisaaopt" type="text" placeholder="3"></input>
		Tunnit: <input id="lisaatunnit" type="text" placeholder="50"></input>
		<!--button id="lisaa-painike" type="button" onclick="lisaaUusiKurssi();">Lisää kurssi</button><br-->
		<i id="lisaa-painike" class="lisaa-painike fa fa-arrow-right fa-lg"></i>
		<!--button class="hide-content">Valmis</button-->
		<i class="hide-content fa fa-check fa-lg"></i>
		</p>
	</form>
</div>

<h3>Kurssit <i class="show-content fa fa-plus"></i></h3>
<div class="kaikki-kurssit clearfix">
</div>
<p>Optimoi halutessasi muun tuntimäärän mukaan</p>
<input type="text" class="annettu-tuntimaara" placeholder="200" /><br/>
<button type="button" class="optimoi">Optimoi</button>
<p>Optimaalisin valinta: </p>
<div class="lopputulos">

</div>
<script>
$(document).ready(function(){
	$('.hidden-content').hide();
	
	$('.show-content').on('click', function(){
		$('.hidden-content').show();
	});
	
	$('.hide-content').on('click', function(){
		$('.hidden-content').hide();
	});
	
	paivitaLista();
	//console.log(knapsack([{w:200, b: 20},{w:40,b:2},{w:20,b:5},{w:10,b:1},{w:90,b:9},{w:100,b:17}], 200));

	
	$(document).on('click', '.muokkaa-painike', function(){
	if($(this).attr("data-tila") == "valmis"){
		$(this).attr("data-tila", "muokkaa");
		var oparitArvo = $(this).siblings('.oparit').text();
		var tyotunnitArvo = $(this).siblings('.tyotunnit').text();
		$(this).siblings('.oparit').html('<input type="number" value="'+oparitArvo+'" />');
		$(this).siblings('.tyotunnit').html('<input type="number" value="'+tyotunnitArvo+'" />');
		$(this).text("Valmis");
	} else {
		$(this).attr("data-tila", "valmis");
		var oparitArvo = $(this).siblings('.oparit').find('input').val();
		var tyotunnitArvo = $(this).siblings('.tyotunnit').find('input').val();
		$(this).siblings('.oparit').html(oparitArvo);
		$(this).siblings('.tyotunnit').html(tyotunnitArvo);
		var muokattavaId = $(this).parents('.yksi-kurssi').attr('id');
		for(var i = 0; i < kaikkiKurssit.length; i++){
			if(kaikkiKurssit[i].id == muokattavaId){
				kaikkiKurssit[i].b = parseInt(oparitArvo);
				kaikkiKurssit[i].w = parseInt(tyotunnitArvo);
			}
		}
		for(var kurssit in kaikkiKurssit){
		console.log(kaikkiKurssit[kurssit]);
		}
		$(this).text("Muokkaa");
	}
	});

	$('.optimoi').on('click', tulostaOptimi);
	
	$('.lisaa-painike').on('click', lisaaUusiKurssi);
	
	$(document).on('click', '.poista-painike', function(){
		$(this).parents('.yksi-kurssi').remove();
		var poistettavaId = $(this).parents('.yksi-kurssi').attr('id');
		for(var i = 0; i < kaikkiKurssit.length; i++){
			if(kaikkiKurssit[i].id == poistettavaId){
				kaikkiKurssit.splice(i, 1);
			}
		}
	});
	
});
</script>
</body>
</html>